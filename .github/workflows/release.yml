name: release PR

on:
  push:
    branches:
      - main
    paths-ignore:
      - img/**
      - docs/.vuepress/**/**.tsp
      - README.md
      - LICENSE
      
env:
  PNAME: topsjf
  BRANCH: release-log
  
jobs:
  release-please:
    name: ç”Ÿæˆæ—¥å¿—ä¸åˆ›å»ºPR
    runs-on: ubuntu-latest
    steps:
      - uses: google-github-actions/release-please-action@v3
        with:
          default-branch: ${{env.BRANCH}}
          token: ${{ secrets.RELEASE_TOKEN }}
          release-type: node
          package-name: ${{env.PNAME}}
          pull-request-title-pattern: 'chore${scope}: release${component} ${branch?} ${version}'
          changelog-types: '[{"type": "types", "section":"Types", "hidden": false},{"type": "revert", "section":"âªï¸Reverts", "hidden": false},{"type": "feat", "section": "âœ¨Features", "hidden": false},{"type": "fix", "section": "ğŸ›Bug Fixes", "hidden": false},{"type": "improvement", "section": "âš™ï¸Feature Improvements", "hidden": false},{"type": "docs", "section":"ğŸ“šDocs", "hidden": false},{"type": "style", "section":"ğŸ¨Styling", "hidden": false},{"type": "refactor", "section":"â™»ï¸Code Refactoring", "hidden": false},{"type": "perf", "section":"âš¡ï¸Performance Improvements", "hidden": false},{"type": "test", "section":"ğŸ§ªTests", "hidden": false},{"type": "build", "section":"ğŸ“¦ï¸Build System", "hidden": false},{"type": "ci", "section":"ğŸ¡CI", "hidden":false}]'



